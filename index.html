<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hamster Combat Clone</title>
<style>
  body {
    text-align: center;
    font-family: Arial, sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: #f0f0f0;
    color: #333;
  }
  .container {
    position: relative;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }
  .hamster {
    width: 150px;
    height: 150px;
    background: url('hamster.png') no-repeat center center;
    background-size: contain;
    cursor: pointer;
    margin: 0 auto;
    transition: transform 0.1s;
  }
  .hamster.active {
    transform: scale(0.95);
  }
  #balance {
    font-size: 24px;
    margin-bottom: 20px;
  }
  .click-animation {
    position: absolute;
    font-size: 24px;
    color: #ff0000;
    animation: fadeUp 1s ease-out forwards;
    pointer-events: none;
  }
  @keyframes fadeUp {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(-50px);
    }
  }
</style>
</head>
<body>
<div class="container">
  <div id="balance">Очки: 0</div>
  <div class="hamster" id="hamster"></div>
</div>
<script>
let balance = 0;

function vibrateOnClick() {
  if ("vibrate" in navigator) {
    window.navigator.vibrate(100); // Короткая вибрация на 100 миллисекунд
  }
}

function incrementScore(event) {
  balance++;
  document.getElementById('balance').textContent = 'Очки: ' + balance;
  showClickAnimation(event.clientX, event.clientY);
}

function showClickAnimation(x, y) {
  const clickText = document.createElement('div');
  clickText.textContent = '+1';
  clickText.className = 'click-animation';
  clickText.style.left = `${x}px`;
  clickText.style.top = `${y}px`;
  document.body.appendChild(clickText);
  setTimeout(() => {
    clickText.remove();
  }, 1000);
}

function handleTouchStart(event) {
  event.preventDefault();
  const hamster = document.getElementById('hamster');
  const rect = hamster.getBoundingClientRect();
  const touch = event.touches[0]; // Берем только первый палец
  if (touch.clientX >= rect.left && touch.clientX <= rect.right && touch.clientY >= rect.top && touch.clientY <= rect.bottom) {
    incrementScore(touch);
    vibrateOnClick();
    hamster.classList.add('active');
    setTimeout(() => hamster.classList.remove('active'), 50); // Ускоряем возвращение кнопки
  }
}

function handleMouseDown(event) {
  event.preventDefault();
  const hamster = document.getElementById('hamster');
  const rect = hamster.getBoundingClientRect();
  if (event.clientX >= rect.left && event.clientX <= rect.right && event.clientY >= rect.top && event.clientY <= rect.bottom) {
    incrementScore(event);
    vibrateOnClick();
    hamster.classList.add('active');
    setTimeout(() => hamster.classList.remove('active'), 50); // Ускоряем возвращение кнопки
  }
}

document.getElementById('hamster').addEventListener('mousedown', handleMouseDown);
document.getElementById('hamster').addEventListener('touchstart', handleTouchStart);
</script>
</body>
</html>
